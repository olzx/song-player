(function(){"use strict";var t={6347:function(t,s,n){var i=n(6369),e=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("SongsItems"),s("SongsController")],1)},o=[],r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"songs-items"},[s("ul",{staticClass:"songs-items__table"},[t._m(0),t._l(t.getSongs,(function(n){return s("SongsItemsItem",{key:n.id,attrs:{song:n},on:{"song:click":function(s){return t.songClick(n)}}})}))],2),s("infinite-loading",{on:{infinite:t.loadNextPage}})],1)},c=[function(){var t=this,s=t._self._c;return s("li",{staticClass:"songs-items__head"},[s("div",{staticClass:"songs-items__lef"},[s("span",[t._v("Название")])]),s("div",{staticClass:"songs-items__right"},[s("span",[t._v("ID")]),s("span",[t._v("Время")])])])}],a=function(){var t=this,s=t._self._c;return s("div",{class:["songs-items__song",{"songs-items__song_active":t.song.active}]},[s("div",{staticClass:"songs-items__wrapper"},[s("div",{staticClass:"songs-items__image"},[s("img",{attrs:{src:t.song.cover,alt:"img"}}),s("div",{staticClass:"songs-items__play-button",on:{click:function(s){return t.$emit("song:click",t.song)}}},[s("span",{class:t.playButtonToggle})])]),s("div",{staticClass:"songs-items__title"},[s("div",{staticClass:"songs-items__name"},[t._v(t._s(t.song.title))]),s("div",{staticClass:"songs-items__artist"},[t._v(t._s(t.song.artist))])])]),s("div",{staticClass:"songs-items__right"},[s("span",[t._v(t._s(t.song.id))]),s("span",[t._v(t._s(t.song.time))])])])},u=[],g={props:{song:{type:Object,require:!0}},computed:{playButtonToggle:function(){const t=this.song.active?"icon__play":"icon__pause";return["songs-items__play","icon",t]}}},l=g,_=n(1001),v=(0,_.Z)(l,a,u,!1,null,null,null),f=v.exports,h=n(8814),m=n.n(h),p={components:{SongsItemsItem:f,InfiniteLoading:m()},data:function(){return{page:1,isSearch:!1,searchText:""}},methods:{loadNextPage:function(t){this.$apiMusic.get.page(this.page++).then((s=>{0!==s.length?(this.$store.commit("songsList/ADD_NEW_SONGS",s),t.loaded()):t.complete()}))},songClick:function(t){this.$store.commit("songsList/SET_ACTIVE_SONG",t)}},computed:{getSongs:function(){return this.$store.getters["songsList/getAllSongs"]}}},d=p,S=(0,_.Z)(d,r,c,!1,null,null,null),T=S.exports,C=function(){var t=this,s=t._self._c;return t.activeSong.title?s("div",{staticClass:"bar"},[s("div",{staticClass:"bar__content"},[s("div",{staticClass:"bar__left"},[s("div",{staticClass:"controls"},[t.isFirstSong?s("div",{staticClass:"controls__buttons",on:{click:t.togglePrevious}},[s("div",{staticClass:"icon icon_size_28 icon__previous"})]):t._e(),s("div",{staticClass:"controls__buttons",on:{click:t.togglePlay}},[s("div",{class:["icon","icon_size_28",t.togglePauseIcon()]})]),t.isLastSong?s("div",{staticClass:"controls__buttons",on:{click:t.toggleNext}},[s("div",{staticClass:"icon icon_size_28 icon__next"})]):t._e()]),s("div",{staticClass:"song"},[s("div",{staticClass:"song__image"},[s("img",{attrs:{src:t.activeSong.cover,alt:""}})]),s("div",{staticClass:"song__info"},[s("div",{staticClass:"song__title"},[t._v(t._s(t.activeSong.title))]),s("div",{staticClass:"song__artist"},[t._v(t._s(t.activeSong.artist))])])])]),s("div",{staticClass:"bar__right"},[s("div",{staticClass:"range-slider"},[s("vue-slider",{attrs:{tooltip:"none"},on:{change:t.volumeChange},model:{value:t.songVolume,callback:function(s){t.songVolume=s},expression:"songVolume"}})],1)]),s("div",{ref:"progress",staticClass:"progress",on:{click:t.progressClick,mousemove:t.progressHover,mouseenter:t.progressEnter,mouseleave:t.progressLeave}},[s("div",{staticClass:"progress__time"},[s("div",{staticClass:"progress__left"},[t._v(t._s(t.currentTime))]),s("div",{staticClass:"progress__right"},[t._v(t._s(t.activeSong.time))])]),s("div",{staticClass:"progress__bar",style:{width:t.currentPercents+"%"}}),t.progressIsHover?s("div",{staticClass:"progress__tooltip",style:{left:t.progressMouseX+"px"}},[t._v(" "+t._s(t.progressHoverTime)+" ")]):t._e()])])]):t._e()},A=[],L=n(8303),O=n.n(L),E={components:{VueSlider:O()},data:function(){return{songActive:null,isPause:!1,songVolume:20,songCurrentPercents:0,songCurrentTime:"0",progressMouseX:0,progressIsHover:!1,progressHoverTime:"00:00"}},methods:{togglePrevious:function(){this.$store.commit("songsList/SET_PREVIOUS_SONG")},togglePlay:function(){null!==this.songActive&&(!0===this.isPause?(this.songActive.play(),this.isPause=!1):(this.songActive.pause(),this.isPause=!0))},toggleNext:function(){this.$store.commit("songsList/SET_NEXT_SONG")},togglePauseIcon:function(){return this.isPause?"icon__pause":"icon__play"},playSong:function(t){if(this.isPause=!1,this.setCurrentPercentsAndTime(),null===t&&null!==this.songActive)return this.songActive.pause(),void(this.songActive=null);const s=this.$apiMusic.get.music(t.id);null===this.songActive||this.songActive.pause(),this.songActive=new Audio(s),this.songActive.volume=this.songVolume/100,this.songActive.play()},volumeChange:function(t){null!==this.songActive&&(this.songActive.volume=t/100)},getCurrentPercents:function(){return null===this.songActive||isNaN(this.songActive.duration)?0:this.songActive.currentTime/this.songActive.duration*100},setCurrentPercentsAndTime:function(){this.songCurrentPercents=this.getCurrentPercents(),this.songCurrentTime=this.songActive?.currentTime?this.songActive.currentTime:0,setTimeout((()=>{null!==this.songActive&&this.setCurrentPercentsAndTime()}),100)},progressClick:function(t){if(null!==this.songActive&&0!==this.songCurrentPercents){const s=(t.clientX-this.$refs.progress.getBoundingClientRect().left)/this.$refs.progress.offsetWidth*this.songActive.duration;this.songActive.currentTime=s}},convertCurrentTimeInNormal:function(t){const s=Math.floor(t%3600/60).toString().padStart(2,"0"),n=Math.floor(t%60).toString().padStart(2,"0");return s+":"+n},progressHover:function(t){if(this.progressMouseX=t.layerX-27.5,null!==this.songActive&&!1===isNaN(this.songActive.duration)){const s=(t.clientX-this.$refs.progress.getBoundingClientRect().left)/this.$refs.progress.offsetWidth*this.songActive.duration;this.progressHoverTime=this.convertCurrentTimeInNormal(s)}},progressEnter:function(){null!==this.songActive&&(this.progressIsHover=!0)},progressLeave:function(){null!==this.songActive&&(this.progressIsHover=!1)}},computed:{activeSong:function(){return this.$store.getters["songsList/getActiveSong"]},isFirstSong:function(){return!this.$store.getters["songsList/getFirstOrLast"].isFirst},isLastSong:function(){return!this.$store.getters["songsList/getFirstOrLast"].isLast},currentPercents:function(){return this.songCurrentPercents},currentTime:function(){return this.convertCurrentTimeInNormal(this.songCurrentTime)}},watch:{"$store.state.songsList.activeSong":function(t){this.playSong(t)}}},y=E,P=(0,_.Z)(y,C,A,!1,null,null,null),b=P.exports,I={components:{SongsItems:T,SongsController:b}},G=I,N=(0,_.Z)(G,e,o,!1,null,null,null),x=N.exports,k=n(70);const V=k.ZP.create({baseURL:"https://n-api.arizona-v.com/",headers:{accept:"application/json"}});var $=V;function F(t){const s=Math.floor(t%3600/60).toString().padStart(2,"0"),n=Math.floor(t%60).toString().padStart(2,"0");return s+":"+n}function M(t){for(let s=0;s<t.length;s++){const n=t[s].duration;t[s].time=F(n),t[s].active=!1}return t}var w={timeModify:function(t){return M(t)}};function R(t){return{page(s=1){return t.get("music?page="+s).then((function(t){return w.timeModify(t.data.data)}))},search(s=1,n){const i="music?page="+s,e="&searchValue="+n;return t.get(i+e)},music(s){const n=t.defaults.baseURL;return n+"music/"+s}}}var U={get:R($)},j={install(t){t.prototype.$apiMusic=U}},H=n(3822);n(7658);const X={namespaced:!0,state:{songs:[],activeSong:null,isFirstOrLast:{isFirst:!1,isLast:!1}},getters:{getAllSongs:function(t){return t.songs},getActiveSong:function(t){return null===t.activeSong?"":t.activeSong},getFirstOrLast:function(t){return t.isFirstOrLast}},mutations:{ADD_NEW_SONGS:function(t,s){t.songs.push(...s),this.commit("songsList/_TOGGLE_FIRST_OR_LAST_STATUS")},CLEAR_ALL_SONGS:function(t){t.songs=[]},SET_ACTIVE_SONG:function(t,s){null===t.activeSong?(this.commit("songsList/_TOGGLE_ACTIVE_STATUS",s),t.activeSong=s):t.activeSong===s?(this.commit("songsList/_TOGGLE_ACTIVE_STATUS",s),t.activeSong=null):(this.commit("songsList/_TOGGLE_ACTIVE_STATUS",s),this.commit("songsList/_TOGGLE_ACTIVE_STATUS",t.activeSong),t.activeSong=s),this.commit("songsList/_TOGGLE_FIRST_OR_LAST_STATUS")},SET_PREVIOUS_SONG:function(t){if(null===t.activeSong)return;const s=t.songs.indexOf(t.activeSong),n=s-1;if(n<0)return;const i=t.songs[n];this.commit("songsList/SET_ACTIVE_SONG",i)},SET_NEXT_SONG:function(t){if(null===t.activeSong)return;const s=t.songs.indexOf(t.activeSong),n=s+1;if(n>=t.songs.length)return;const i=t.songs[n];this.commit("songsList/SET_ACTIVE_SONG",i)},_TOGGLE_ACTIVE_STATUS:function(t,s){const n=t.songs.indexOf(s);t.songs[n].active=!s.active},_TOGGLE_FIRST_OR_LAST_STATUS:function(t){const s=t.songs.indexOf(t.activeSong);t.isFirstOrLast.isFirst=0===s,s===t.songs.length-1?t.isFirstOrLast.isLast=!0:t.isFirstOrLast.isLast=!1}}};var Z=X;i["default"].use(H.ZP);const D=new H.ZP.Store({modules:{songsList:Z}});var z=D;i["default"].use(j),i["default"].config.productionTip=!1,new i["default"]({render:t=>t(x),store:z}).$mount("#app")}},s={};function n(i){var e=s[i];if(void 0!==e)return e.exports;var o=s[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(s,i,e,o){if(!i){var r=1/0;for(g=0;g<t.length;g++){i=t[g][0],e=t[g][1],o=t[g][2];for(var c=!0,a=0;a<i.length;a++)(!1&o||r>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[a])}))?i.splice(a--,1):(c=!1,o<r&&(r=o));if(c){t.splice(g--,1);var u=e();void 0!==u&&(s=u)}}return s}o=o||0;for(var g=t.length;g>0&&t[g-1][2]>o;g--)t[g]=t[g-1];t[g]=[i,e,o]}}(),function(){n.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(s,{a:s}),s}}(),function(){n.d=function(t,s){for(var i in s)n.o(s,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(s){return 0===t[s]};var s=function(s,i){var e,o,r=i[0],c=i[1],a=i[2],u=0;if(r.some((function(s){return 0!==t[s]}))){for(e in c)n.o(c,e)&&(n.m[e]=c[e]);if(a)var g=a(n)}for(s&&s(i);u<r.length;u++)o=r[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(g)},i=self["webpackChunkapp_music"]=self["webpackChunkapp_music"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6347)}));i=n.O(i)})();
//# sourceMappingURL=app.7450122b.js.map